extends ./layout.jade
block title
	| Repositories
block content
	unless repos == null
		section(class="section--center mdl-grid")
			each val in repos
				div(class="mdl-card mdl-cell mdl-cell--12-col mdl-shadow--2dp")
					form(method="post", action="/repos/enforce/#{val.name}")
						div(class="mdl-card__title mdl-card--border")
							h2(class="mdl-card__title-text")=val.name
						div(class="mdl-card__menu")
							a(class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect", href=val.html_url, title="Github", target="_blank")
								i(class="material-icons")="public"
							a(class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect", href="./#{val.name}", title="Edit")
								i(class="material-icons")="edit"
						div(class="mdl-color-text--grey-600 mdl-card__supporting-text")
							div(class="mdl-card__subtitle-text")=val.description
							div(class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label")
								label(for="reviews_#{val.id}", class="mdl-textfield__label")="Required Reviews"
								input(type="number", name="reviewsNeeded", value="3", id="reviews_#{val.id}", class="mdl-textfield__input")
								span(class="mdl-textfield__error")="Value must be number"
						div(class="mdl-card__actions align-right mdl-card--border")
							button(type="submit", class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored")="Register Bot"
							a(class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect",href="/repos/unenforce/#{val.name}")="Deregister Bot"


	else
		section(class="section--center mdl-grid")
			div(class="mdl-card mdl-cell mdl-cell--12-col mdl-shadow--2dp")
				div(class="mdl-card__title")
					h2(class="mdl-card__title-text") No repositories found.
